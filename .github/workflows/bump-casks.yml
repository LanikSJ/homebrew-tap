name: Bump Casks

on:
  schedule:
    # Time is UTC, so below is running everyday at 8AM and 8PM PST
    - cron:  '0 4,16 * * *'
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  bump-casks:
    permissions:
      contents: write
    runs-on: macos-latest
    steps:
    - name: Homebrew Bump Cask (LanikSJ)
      uses: LanikSJ/homebrew-bump-cask@d5866213d3bef867ee98352732bc26ea165c66c1 # v1
      with:
        # Authentication token to use for pushing changes; use the built-in GITHUB_TOKEN or define a HOMEBREW_TOKEN secret
        token: ${{ secrets.HOMEBREW_TOKEN }}
        # Bump all outdated casks in this tap
        tap: laniksj/homebrew-tap
        # Bump only these casks if outdated
        cask: android-messages-plus
        livecheck: true
        dryrun: false
